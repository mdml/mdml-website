!function(a){function b(b,g){var h,i,j;if(0==(h=a(b))[c])return d;switch(i=h[f]()[e],g.anchor){case"middle":j=i-(a(window).height()-h.outerHeight())/2;break;default:case e:j=Math.max(i,0)}return j-="function"==typeof g[f]?g[f]():g[f]}var c="length",d=null,e="top",f="offset",g="click.scrolly";a(window);a.fn.scrolly=function(f){var h,i,j,k,l=a(this);if(0==this[c])return l;if(this[c]>1){for(h=0;h<this[c];h++)a(this[h]).scrolly(f);return l}return k=d,j=l.attr("href"),"#"!=j.charAt(0)||j[c]<2?l:(i=jQuery.extend({anchor:e,easing:"swing",offset:0,parent:a("body,html"),pollOnce:!1,speed:1e3},f),i.pollOnce&&(k=b(j,i)),l.off(g).on(g,function(a){var c=k!==d?k:b(j,i);c!==d&&(a.preventDefault(),i.parent.stop().animate({scrollTop:c},i.speed,i.easing))}),void 0)}}(jQuery);