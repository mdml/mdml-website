$(document).ready(function(){function a(){var a=[],b={year:!1,class:!1,selected:!1};$("form#publication-filters :checkbox").each(function(){var c=$(this);c.is(":checked")&&(a.push({key:c.data("key"),value:c.data("value")}),b[c.data("key")]=!0)}),$(".publication").show(),$(".publication").filter(function(){var c=$(this),d={year:!b.year,class:!b.class,selected:!b.selected};return a.forEach(function(a){a.value||(a.value=!0),d[a.key]=d[a.key]||c.data(a.key)==a.value}),!(d.year&&d.class&&d.selected)}).hide()}function b(a){var a=d3.max([0,d3.min([a,e-1])]);g.attr("class",0==a?"disabled":""),h.attr("class",a==e-1?"disabled":""),$("ul#event-pagination li").removeClass("active"),$("ul#event-pagination li:eq( "+(a+1)+" )").addClass("active"),page_number=a;var b=c*page_number,d=c*(page_number+1);$("dd.event").each(function(a){a>=b&&a<d?$(this).show():$(this).hide()}),$("dt.event").each(function(a){a>=b&&a<d?$(this).show():$(this).hide()})}$("form#publication-filters :checkbox").click(a),a();var c=5,d=$("dt.event").size(),e=Math.ceil(1*d/c);page_number=1;var f=d3.select("ul#event-pagination"),g=f.select("li#page-left").on("click",function(){d3.event.preventDefault(),b(page_number-1)}),h=(f.selectAll(".page").data(d3.range(e)).on("click",b),f.select("li#page-right").on("click",function(){d3.event.preventDefault(),b(page_number+1)}));b(0)});